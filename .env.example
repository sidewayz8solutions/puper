# ========================= PUPER API CONFIGURATION =========================
# Copy this file to .env and update the values for your environment

# ========================= ENVIRONMENT =========================
ENVIRONMENT=development
# Options: development, staging, production

# ========================= DATABASE CONFIGURATION =========================
# PostgreSQL with PostGIS extension required
DATABASE_URL=postgresql://puper_user:puper_password@localhost:5432/puper

# For Docker Compose (automatically configured)
# DATABASE_URL=postgresql://puper_user:puper_password@postgres:5432/puper

# For production, use connection pooling and SSL
# DATABASE_URL=postgresql://user:pass@host:5432/db?sslmode=require&pool_size=20&max_overflow=0

# ========================= SECURITY CONFIGURATION =========================
# CRITICAL: Change this in production! Use a strong, random 32+ character string
SECRET_KEY=your-super-secret-key-change-this-in-production-make-it-long-and-random

# JWT Configuration
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Password hashing rounds (higher = more secure but slower)
BCRYPT_ROUNDS=12

# ========================= REDIS CONFIGURATION =========================
# Redis for caching and session storage
REDIS_URL=redis://localhost:6379

# For Docker Compose (automatically configured)
# REDIS_URL=redis://redis:6379

# For production with authentication
# REDIS_URL=redis://:password@host:6379/0

# Cache TTL settings (in seconds)
CACHE_TTL_SHORT=300      # 5 minutes
CACHE_TTL_MEDIUM=1800    # 30 minutes
CACHE_TTL_LONG=86400     # 24 hours

# ========================= EXTERNAL API KEYS =========================
# Google Maps API (for geocoding and places)
GOOGLE_MAPS_API_KEY=your-google-maps-api-key-here

# OpenStreetMap Overpass API (usually no key needed)
OSM_OVERPASS_URL=https://overpass-api.de/api/interpreter

# ========================= CORS SETTINGS =========================
# Allowed origins for CORS (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080,http://127.0.0.1:3000

# For production, specify your actual domains
# ALLOWED_ORIGINS=https://puper.app,https://www.puper.app,https://admin.puper.app

# ========================= LOGGING CONFIGURATION =========================
LOG_LEVEL=INFO
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL

# Log file path (optional, logs to console if not set)
# LOG_FILE=logs/puper.log

# ========================= FILE UPLOAD SETTINGS =========================
# Maximum file size for image uploads (in bytes)
MAX_UPLOAD_SIZE=5242880  # 5MB

# Allowed image formats
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/webp

# Upload storage (for production, use cloud storage)
UPLOAD_STORAGE=local
# Options: local, s3, gcs, azure

# AWS S3 Configuration (if using S3)
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_S3_BUCKET=puper-uploads
# AWS_S3_REGION=us-east-1

# ========================= RATE LIMITING =========================
# Requests per minute for different endpoints
RATE_LIMIT_GENERAL=100
RATE_LIMIT_AUTH=10
RATE_LIMIT_UPLOAD=5
RATE_LIMIT_ADMIN=200

# ========================= SEARCH CONFIGURATION =========================
# Default search radius in meters
DEFAULT_SEARCH_RADIUS=5000

# Maximum search radius in meters
MAX_SEARCH_RADIUS=50000

# Default pagination limits
DEFAULT_PAGE_SIZE=50
MAX_PAGE_SIZE=200

# ========================= GAMIFICATION SETTINGS =========================
# Points awarded for different actions
POINTS_REVIEW=10
POINTS_RESTROOM_SUBMISSION=20
POINTS_PHOTO_UPLOAD=5
POINTS_HELPFUL_VOTE=2

# ========================= EMAIL CONFIGURATION (Optional) =========================
# SMTP settings for notifications
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM_EMAIL=noreply@puper.app
# SMTP_FROM_NAME=Puper Team

# ========================= MONITORING & ANALYTICS =========================
# Sentry for error tracking (optional)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Google Analytics (optional)
# GA_TRACKING_ID=UA-XXXXXXXXX-X

# ========================= ADMIN SETTINGS =========================
# Default admin user (created on first startup)
DEFAULT_ADMIN_USERNAME=admin
DEFAULT_ADMIN_EMAIL=admin@puper.local
DEFAULT_ADMIN_PASSWORD=change-this-password-immediately

# Admin session timeout (in minutes)
ADMIN_SESSION_TIMEOUT=60

# ========================= DEVELOPMENT SETTINGS =========================
# Enable debug mode (only for development)
DEBUG=true

# Enable API documentation
ENABLE_DOCS=true

# Enable database query logging
DB_ECHO=false

# Auto-reload on code changes (development only)
AUTO_RELOAD=true

# ========================= PRODUCTION SETTINGS =========================
# For production deployment, also consider:
# - Setting up SSL/TLS certificates
# - Configuring reverse proxy (nginx)
# - Setting up monitoring (Prometheus, Grafana)
# - Configuring backup strategies
# - Setting up CI/CD pipelines
# - Implementing proper logging aggregation

# Example production overrides:
# ENVIRONMENT=production
# DEBUG=false
# DB_ECHO=false
# AUTO_RELOAD=false
# LOG_LEVEL=WARNING
